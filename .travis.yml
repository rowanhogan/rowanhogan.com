language: ruby
rvm:
  - 2.1.2
branches:
  only:
    - master
cache:
  bundler: true
notifications:
  email: false
before_script:
  - git config --global user.email $GH_EMAIL
  - git config --global user.name $GH_USERNAME
  - git remote set-url origin https://$GH_TOKEN@github.com/rowanhogan/rowanhogan.com.git
  - npm install -g bower
  - bower install -f
script:
  - bundle exec middleman deploy --build-before
